
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color: #e8e8ea; background: #111317; }
.topbar { display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; border-bottom: 1px solid #222; background: #151821; position: sticky; top: 0; z-index: 10; }
.topbar .left { display: flex; gap: 8px; align-items: center; }
.topbar input[type="search"] { width: 420px; padding: 6px 10px; background: #0e1116; border: 1px solid #2b2e36; color: #eee; border-radius: 6px; }
.topbar #root-select { background: #0e1116; border: 1px solid #2b2e36; color: #eee; padding: 6px; border-radius: 6px; }
.badge { background: #262b36; padding: 4px 8px; border-radius: 6px; font-size: 12px; color: #aeb7c4; }

.layout { display: grid; grid-template-columns: 260px 1fr 420px; height: calc(100vh - 44px); }
.sidebar { border-right: 1px solid #222; padding: 10px; overflow: auto; background: #0f131a; }
.sidebar h3 { margin: 0 0 8px 0; color: #cbd5e1; }
.sidebar ul { list-style: none; padding-left: 0; margin: 0; }
.sidebar li { padding: 6px 6px; border-radius: 6px; cursor: pointer; }
.sidebar li:hover { background: #1a2030; }

.main { overflow: auto; padding: 12px; }
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; }
.item { background: #0e1116; border: 1px solid #1e2230; border-radius: 12px; overflow: hidden; user-select: none; }
.item .thumb { position: relative; height: 120px; background: #080a0f; display: grid; place-items: center; }
.item .thumb .poster { width: 100%; height: 100%; display: block; }
.item .thumb .hovervid { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; display: none; }
.item .meta { padding: 8px; }
.item .name { font-size: 12px; color: #e8e8ea; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.item .tags { font-size: 11px; color: #8b93a7; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.badge.kind { position: absolute; left: 6px; top: 6px; font-size: 11px; background: #1e2230; padding: 2px 6px; border-radius: 999px; }
.badge.len { position: absolute; right: 6px; top: 6px; font-size: 11px; background: #1e2230; padding: 2px 6px; border-radius: 999px; }

/* Color-coded borders */
.item.full   { border-color: #aa1d1d; box-shadow: 0 0 0 1px #aa1d1d inset; }   /* red */
.item.trailer{ border-color: #e3b341; box-shadow: 0 0 0 1px #e3b341 inset; }   /* yellow */
.item.footage{ border-color: #555a66; box-shadow: 0 0 0 1px #555a66 inset; }   /* gray */
.item.isUploaded {
    border-color: #00ff00;
    box-shadow: 0 0 0 1px #00ff00 inset;
}

.inspector { border-left: 1px solid #222; background: #0f131a; padding: 12px; overflow: auto; display: grid; grid-template-rows: 280px auto; gap: 12px; }
.player { background: #0e1116; border: 1px solid #1e2230; border-radius: 12px; padding: 8px; display: grid; grid-template-rows: 1fr auto; }
.player video { width: 100%; height: 100%; background: #000; border-radius: 8px; }
.player-actions { display: flex; justify-content: space-between; gap: 8px; margin-top: 8px; }
.player-actions button { background: #1a2030; color: #e8e8ea; border: 1px solid #293042; border-radius: 8px; padding: 6px 10px; }

.meta-editor { background: #0e1116; border: 1px solid #1e2230; border-radius: 12px; padding: 10px; display: grid; gap: 8px; }
.meta-editor h3 { margin: 0 0 6px 0; }
.meta-editor label { display: grid; gap: 6px; font-size: 12px; color: #cbd5e1; }
.meta-editor input, .meta-editor textarea, .meta-editor select { background: #0a0e14; border: 1px solid #2b2e36; color: #e8e8ea; border-radius: 6px; padding: 6px; }
.meta-editor textarea { min-height: 60px; resize: vertical; }

menu#context { position: fixed; display: none; background: #0c1017; border: 1px solid #253049; border-radius: 8px; padding: 6px; z-index: 100; box-shadow: 0 10px 40px rgba(0,0,0,0.4); }
menu#context button { display: block; width: 220px; text-align: left; color: #d2d8e6; background: transparent; border: 0; padding: 8px 10px; cursor: pointer; font-size: 13px; }
menu#context button:hover { background: #1a2130; }
menu#context hr { border: none; border-top: 1px solid #273148; margin: 6px 0; }

/** Fix overlay drag issues */
/* Any draggable region (custom titlebar/toolbar) */
.titlebar, .toolbar, .app-drag {
  -webkit-app-region: drag;
}
/* All interactive controls MUST be no-drag */
input, textarea, select, button, a, [role="button"], [contenteditable="true"], .no-drag, .webix_input, .webix_el_search {
  -webkit-app-region: no-drag;
}
/* default: donâ€™t block interactions */
.scrub-overlay { pointer-events: none; }
/* only enable when actively scrubbing that tile */
.file:hover .scrub-overlay { pointer-events: auto; }